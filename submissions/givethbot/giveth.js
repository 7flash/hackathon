var DIRECTORY = {"owner":"0x8837948d582d553ae6d39ce0f3ba6f582f2deed7","campaigns":[{"name":"Test Campaign for Giveth Dev work","description":"This is a test of the emergency deploy system, do not run to donate to this campaign, it is only a test... but feel free to donate Giveth as you wish ;-) 0xf19c536ab792f173b7ee62d9ccc51f4ed6180773","url":"http://www.giveth.io/?idCampaign=1","tokenAddress":"0x1d86731e751c28a2518012b849b900a66e76f615","vaultAddress":"0x7e9d6a484bd1ce2699baf1f677b08d1faf0a6d61","milestoneTrackerAddress":"0xbdfc1226726ab794185f01c10c99305760f1b347","extra":"","status":"Active","milestoneTracker":{"recipient":"0xf810573570c515ed8be3c72240ae42fac077782a","donor":"0x26626c5f785174d6eeb44ee77f7a34054e2eb937","arbitrator":"0x75190bb91d3345b48b26e7c787866a289ca00a38","campaignCanceled":false,"milestones":[],"changingMilestones":false,"actions":{"proposeMilestones":[{"account":"0xf810573570c515ed8be3c72240ae42fac077782a","type":"ACCOUNT"}],"arbitrateCancelCampaign":[{"account":"0x75190bb91d3345b48b26e7c787866a289ca00a38","type":"ACCOUNT"}]}},"vault":{"owner":"0x8837948d582d553ae6d39ce0f3ba6f582f2deed7","escapeCaller":"0x4f27c5bae363542e67d8459b94b88a0c11d59ec1","escapeDestination":"0xb289590b4419e82459d68abc865db066dac6ae40","balance":"0","payments":[]},"token":{"balances":{"0x8837948d582d553ae6d39ce0f3ba6f582f2deed7":0,"0x4f27c5bae363542e67d8459b94b88a0c11d59ec1":0,"0xb289590b4419e82459d68abc865db066dac6ae40":0,"0xda519e3d68002ef411000db1b36f52882f55066e":0,"0x75190bb91d3345b48b26e7c787866a289ca00a38":0,"0x26626c5f785174d6eeb44ee77f7a34054e2eb937":0,"0xf810573570c515ed8be3c72240ae42fac077782a":0,"0x323bd10910c5c01c00a2dae3b8830a2930566883":0,"0x9b78b6f60e7f3701072d4dbafd7521a6d4d9288e":0,"0xe956cfeb6534a51bf14186d783026ab3dfcfbda5":0},"name":"Giveth Development","decimals":"18","controller":"0x3554bbf6579fbee4cbec6cde0a7d3f364cc4ea71","totalSupply":0,"parentToken":"0x0000000000000000000000000000000000000000","parentSnapShotBlock":"0"}},{"name":"Test Campaign for MEW","description":"This campaign, when real, will be a cult classic ;-)","url":"http://www.giveth.io/?idCampaign=2","tokenAddress":"0x89ca9877a588274f615c5994be4584c6f9f85b86","vaultAddress":"0xc27d62e4a81f994cb1b4ae451182dcf4f2e29a2b","milestoneTrackerAddress":"0x457acc8ce6583d09e99b33252da87438dd800d53","extra":"","status":"Active","milestoneTracker":{"recipient":"0xf810573570c515ed8be3c72240ae42fac077782a","donor":"0x26626c5f785174d6eeb44ee77f7a34054e2eb937","arbitrator":"0x75190bb91d3345b48b26e7c787866a289ca00a38","campaignCanceled":false,"milestones":[],"changingMilestones":true,"proposedMilestonesData":"0xf90dccf902eab901b14d616b696e6720542d7368697274733a2045766572796f6e6520636f6d70616e79206e6565647320736f6d6520676f6f64205363687761672e2057652061726520676f696e6720746f207375626d69742064657369676e7320746f2074686520457468657265756d2050757263686173696e6720436f6f7020746f20676574207468697320706172747920737461727465642e202057652077616e742024353430302055534420696e2045544820617420746865206d61726b6574207261746520746f2062652073706c6974206265747765656e20417269656c202824323930302920616e6420434a20282432353030292075706f6e207468652072656365697074206f662074686520353030207368697274732e20546869732077696c6c20636f7665722065766572797468696e672c206f75722070726564657369676e20776f726b2c2074686520636f7374206f66207468652035303020542d73686972747320616e6420616c6c20746865206c6974746c65207468696e677320746861742069742074616b657320746f206765742061206d617373697665206f72646572206c696b65207468697320646f6e652ea2687474703a2f2f7777772e6769766574682e696f2f3f696450726f706f73616c3d31845939d5a78459431027949b78b6f60e7f3701072d4dbafd7521a6d4d9288e94323bd10910c5c01c00a2dae3b8830a29305668838302a30094c27d62e4a81f994cb1b4ae451182dcf4f2e29a2bb8c48e637a330000000000000000000000000000000000000000000000000000000000000080000000000000000000000000f810573570c515ed8be3c72240ae42fac077782a0000000000000000000000000000000000000000000000056bc75e2d631000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000f4d616b696e6720542d7368697274730000000000000000000000000000000000f902a3b9016a4275696c6420746865204c616e64696e67207061676520666f722074686520576562736974653a20492077696c6c2070726f6261626c79206a757374206772616220736f6d65206e6963652074656d706c61746573206f66662061207765627369746520616e64207468726f77207468697320757020617320717569636b6c7920617320706f737369626c652c2077652077696c6c20646f206d616e7920697465726174696f6e732c2062757420492077696c6c206e65656420796f75722068656c70206f6e2074686520636f6e74656e742e2e2e2061732049276d20612064657369676e6572206e6f74206120777269746572203a2d442e204920616d20646f696e672074686973206d6f73746c792061732061207365727669636520746f2074686520636f6d6d756e6974792c20627574204920776f756c64206c6f766520746f2067657420352045544820666f72206d7920776f726b2075706f6e20636f6d706c6574696f6e2ea2687474703a2f2f7777772e6769766574682e696f2f3f696450726f706f73616c3d31845939d5a784593f1ba7949b78b6f60e7f3701072d4dbafd7521a6d4d9288e94323bd10910c5c01c00a2dae3b8830a29305668838302a30094c27d62e4a81f994cb1b4ae451182dcf4f2e29a2bb8c48e637a330000000000000000000000000000000000000000000000000000000000000080000000000000000000000000f810573570c515ed8be3c72240ae42fac077782a0000000000000000000000000000000000000000000000004563918244f400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000d4669727374205765627369746500000000000000000000000000000000000000f90203b8cb446f75626c652074686520646f6e6174696f6e7320696e20746869732044434f20696e20333020646179733a20492077616e7420746f2068656c70207261697365206d6f6e657920666f7220746869732070726f6a6563742e20496620492063616e20646f75626c652074686520616d6f756e74206f662045544820696e20746869732044434f20696e20746865206e6578742033302064617973207468656e20492077696c6c20676574203130302045544820666f72206d792070726f6d6f74696f6e616c20776f726ba2687474703a2f2f7777772e6769766574682e696f2f3f696450726f706f73616c3d31845939d5a78459431027949b78b6f60e7f3701072d4dbafd7521a6d4d9288e94323bd10910c5c01c00a2dae3b8830a29305668838302a30094c27d62e4a81f994cb1b4ae451182dcf4f2e29a2bb8c48e637a330000000000000000000000000000000000000000000000000000000000000080000000000000000000000000f810573570c515ed8be3c72240ae42fac077782a0000000000000000000000000000000000000000000000056bc75e2d6310000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010446f75626c6520446f6e6174696f6e7300000000000000000000000000000000f903e9b902b0486972652061204272616e64204d616e616765722e20576520617265207374617274696e6720746f206d616b652061207265616c207472616374696f6e20616e642049207468696e6b206974732074696d652074686174207765206861766520612066756c6c2074696d6520706572736f6e2077686f206a757374206d616e6167657320746865206272616e642c20616e6420646976657320696e746f20746f206f757220646563656e7472616c697a6564206d65737320746f2067697665206f7572206272616e64207265636f676e6974696f6e20746f2074686520776f726c642e204920776f726b656420696e204852206d616e792079656172732061676f20616e6420726563656e746c7920726574697265642066726f6d206265696e67207468652043454f206f662061207375636365737366756c20627573696e65737320696e20746865205465636820696e6475737472792c2049206b6e6f7720686f7720746f20686972652070656f706c6520616e642069742773206e6f7420616e2065617379206a6f622e20492077696c6c20646f2069742066726565206173204920646f6e2774206e65656420746865206d6f6e65792c20627574204920776f756c64206c696b65206d7920657870656e73657320746f20626520636f76657265642c206261736963616c6c792035206c756e6368657320776974682074686520746f702035206170706c6963616e7473206174202436302061206c756e63682e20736f202433303020696e2045544820617420746865206d61726b657420726174652075706f6e20746865207375636365737366756c20686972696e67206f662061206272616e64206d616e616765722c2061667465722074686579206861766520776f726b656420666f722031207765656b20616e642066697420696e746f206f75722063756c747572652ea2687474703a2f2f7777772e6769766574682e696f2f3f696450726f706f73616c3d31845939d5a78459558527949b78b6f60e7f3701072d4dbafd7521a6d4d9288e94323bd10910c5c01c00a2dae3b8830a29305668838302a30094c27d62e4a81f994cb1b4ae451182dcf4f2e29a2bb8c48e637a330000000000000000000000000000000000000000000000000000000000000080000000000000000000000000f810573570c515ed8be3c72240ae42fac077782a0000000000000000000000000000000000000000000000056bc75e2d6310000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000014486972652061204272616e64204d616e61676572000000000000000000000000f90244b9010b4272616e64204d616e616765722053616c6172793a20546869732069732061206d6f6e74686c7920696e7374616c6c6d656e7420746f206b656570206f7572206272616e64206d616e6167657220656d706c6f7965642e20546865792061726520746f20726563656976652024353030302061206d6f6e746820696e2045544820617420746865206d61726b6574207261746520746f20666f72206272696e67696e67206120636f6e73697374656e74206272616e6420746f207468652065787465726e616c20636f6d6d756e6974792e20546865792077696c6c20726577726974652074686973206d696c6573746f6e65207768656e207468657920617265206869726564203a2d292ea2687474703a2f2f7777772e6769766574682e696f2f3f696450726f706f73616c3d31845939d5a7845945b327949b78b6f60e7f3701072d4dbafd7521a6d4d9288e94323bd10910c5c01c00a2dae3b8830a29305668838302a30094c27d62e4a81f994cb1b4ae451182dcf4f2e29a2bb8c48e637a330000000000000000000000000000000000000000000000000000000000000080000000000000000000000000f810573570c515ed8be3c72240ae42fac077782a0000000000000000000000000000000000000000000000056bc75e2d63100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000144272616e64204d616e616765722053616c617279000000000000000000000000","proposedMilestonesHash":"0x7cb3fcb6b2e39ca12d84e179e7b98f6892fb26ecf479bd8502ecc5c0d2661557","proposedMilestones":[{"description":"Making T-shirts: Everyone company needs some good Schwag. We are going to submit designs to the Ethereum Purchasing Coop to get this party started.  We want $5400 USD in ETH at the market rate to be split between Ariel ($2900) and CJ ($2500) upon the receipt of the 500 shirts. This will cover everything, our predesign work, the cost of the 500 T-shirts and all the little things that it takes to get a massive order like this done.","url":"http://www.giveth.io/?idProposal=1","minCompletionDate":1496962471,"maxCompletionDate":1497567271,"milestoneLeadLink":"0x9b78b6f60e7f3701072d4dbafd7521a6d4d9288e","reviewer":"0x323bd10910c5c01c00a2dae3b8830a2930566883","reviewTime":172800,"paymentSource":"0xc27d62e4a81f994cb1b4ae451182dcf4f2e29a2b","payData":"0x8e637a330000000000000000000000000000000000000000000000000000000000000080000000000000000000000000f810573570c515ed8be3c72240ae42fac077782a0000000000000000000000000000000000000000000000056bc75e2d631000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000f4d616b696e6720542d7368697274730000000000000000000000000000000000","payDescription":"Making T-shirts","payRecipient":"0xf810573570c515ed8be3c72240ae42fac077782a","payValue":"100000000000000000000","payDelay":0},{"description":"Build the Landing page for the Website: I will probably just grab some nice templates off a website and throw this up as quickly as possible, we will do many iterations, but I will need your help on the content... as I'm a designer not a writer :-D. I am doing this mostly as a service to the community, but I would love to get 5 ETH for my work upon completion.","url":"http://www.giveth.io/?idProposal=1","minCompletionDate":1496962471,"maxCompletionDate":1497308071,"milestoneLeadLink":"0x9b78b6f60e7f3701072d4dbafd7521a6d4d9288e","reviewer":"0x323bd10910c5c01c00a2dae3b8830a2930566883","reviewTime":172800,"paymentSource":"0xc27d62e4a81f994cb1b4ae451182dcf4f2e29a2b","payData":"0x8e637a330000000000000000000000000000000000000000000000000000000000000080000000000000000000000000f810573570c515ed8be3c72240ae42fac077782a0000000000000000000000000000000000000000000000004563918244f400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000d4669727374205765627369746500000000000000000000000000000000000000","payDescription":"First Website","payRecipient":"0xf810573570c515ed8be3c72240ae42fac077782a","payValue":"5000000000000000000","payDelay":0},{"description":"Double the donations in this DCO in 30 days: I want to help raise money for this project. If I can double the amount of ETH in this DCO in the next 30 days then I will get 100 ETH for my promotional work","url":"http://www.giveth.io/?idProposal=1","minCompletionDate":1496962471,"maxCompletionDate":1497567271,"milestoneLeadLink":"0x9b78b6f60e7f3701072d4dbafd7521a6d4d9288e","reviewer":"0x323bd10910c5c01c00a2dae3b8830a2930566883","reviewTime":172800,"paymentSource":"0xc27d62e4a81f994cb1b4ae451182dcf4f2e29a2b","payData":"0x8e637a330000000000000000000000000000000000000000000000000000000000000080000000000000000000000000f810573570c515ed8be3c72240ae42fac077782a0000000000000000000000000000000000000000000000056bc75e2d6310000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010446f75626c6520446f6e6174696f6e7300000000000000000000000000000000","payDescription":"Double Donations","payRecipient":"0xf810573570c515ed8be3c72240ae42fac077782a","payValue":"100000000000000000000","payDelay":0},{"description":"Hire a Brand Manager. We are starting to make a real traction and I think its time that we have a full time person who just manages the brand, and dives into to our decentralized mess to give our brand recognition to the world. I worked in HR many years ago and recently retired from being the CEO of a successful business in the Tech industry, I know how to hire people and it's not an easy job. I will do it free as I don't need the money, but I would like my expenses to be covered, basically 5 lunches with the top 5 applicants at $60 a lunch. so $300 in ETH at the market rate upon the successful hiring of a brand manager, after they have worked for 1 week and fit into our culture.","url":"http://www.giveth.io/?idProposal=1","minCompletionDate":1496962471,"maxCompletionDate":1498776871,"milestoneLeadLink":"0x9b78b6f60e7f3701072d4dbafd7521a6d4d9288e","reviewer":"0x323bd10910c5c01c00a2dae3b8830a2930566883","reviewTime":172800,"paymentSource":"0xc27d62e4a81f994cb1b4ae451182dcf4f2e29a2b","payData":"0x8e637a330000000000000000000000000000000000000000000000000000000000000080000000000000000000000000f810573570c515ed8be3c72240ae42fac077782a0000000000000000000000000000000000000000000000056bc75e2d6310000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000014486972652061204272616e64204d616e61676572000000000000000000000000","payDescription":"Hire a Brand Manager","payRecipient":"0xf810573570c515ed8be3c72240ae42fac077782a","payValue":"100000000000000000000","payDelay":0},{"description":"Brand Manager Salary: This is a monthly installment to keep our brand manager employed. They are to receive $5000 a month in ETH at the market rate to for bringing a consistent brand to the external community. They will rewrite this milestone when they are hired :-).","url":"http://www.giveth.io/?idProposal=1","minCompletionDate":1496962471,"maxCompletionDate":1497740071,"milestoneLeadLink":"0x9b78b6f60e7f3701072d4dbafd7521a6d4d9288e","reviewer":"0x323bd10910c5c01c00a2dae3b8830a2930566883","reviewTime":172800,"paymentSource":"0xc27d62e4a81f994cb1b4ae451182dcf4f2e29a2b","payData":"0x8e637a330000000000000000000000000000000000000000000000000000000000000080000000000000000000000000f810573570c515ed8be3c72240ae42fac077782a0000000000000000000000000000000000000000000000056bc75e2d63100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000144272616e64204d616e616765722053616c617279000000000000000000000000","payDescription":"Brand Manager Salary","payRecipient":"0xf810573570c515ed8be3c72240ae42fac077782a","payValue":"100000000000000000000","payDelay":0}],"actions":{"unproposeMilestones":[{"account":"0xf810573570c515ed8be3c72240ae42fac077782a","type":"ACCOUNT"}],"acceptProposedMilestones":[{"account":"0x26626c5f785174d6eeb44ee77f7a34054e2eb937","type":"ACCOUNT"}],"arbitrateCancelCampaign":[{"account":"0x75190bb91d3345b48b26e7c787866a289ca00a38","type":"ACCOUNT"}]}},"vault":{"owner":"0x8837948d582d553ae6d39ce0f3ba6f582f2deed7","escapeCaller":"0x4f27c5bae363542e67d8459b94b88a0c11d59ec1","escapeDestination":"0xb289590b4419e82459d68abc865db066dac6ae40","balance":"0","payments":[]},"token":{"balances":{"0x8837948d582d553ae6d39ce0f3ba6f582f2deed7":0,"0x4f27c5bae363542e67d8459b94b88a0c11d59ec1":0,"0xb289590b4419e82459d68abc865db066dac6ae40":0,"0xda519e3d68002ef411000db1b36f52882f55066e":0,"0x75190bb91d3345b48b26e7c787866a289ca00a38":0,"0x26626c5f785174d6eeb44ee77f7a34054e2eb937":0,"0xf810573570c515ed8be3c72240ae42fac077782a":0,"0x323bd10910c5c01c00a2dae3b8830a2930566883":0,"0x9b78b6f60e7f3701072d4dbafd7521a6d4d9288e":0,"0xe956cfeb6534a51bf14186d783026ab3dfcfbda5":0},"name":"MyEtherWallet Donation Test Tokens","decimals":"18","controller":"0x18aaf9a4ba6bfb5c21436ef8663604214467fa7b","totalSupply":0,"parentToken":"0x0000000000000000000000000000000000000000","parentSnapShotBlock":"0"}},{"name":"Test Campaign for Swarm City","description":"Decentralizing.... EVERYTHING these guys are pros with the Minime Token, so this test is really just over the top","url":"http://www.giveth.io/?idCampaign=3","tokenAddress":"0xd289e2f48cb26713e267500497cf829a9191f0ef","vaultAddress":"0xa1d5870faad9c9c8dbd4b497600a1254ecc1b728","milestoneTrackerAddress":"0xa17b1254624056611bc5e94d3bf231f89caa873a","extra":"","status":"Preparing","milestoneTracker":{"recipient":"0xf810573570c515ed8be3c72240ae42fac077782a","donor":"0x26626c5f785174d6eeb44ee77f7a34054e2eb937","arbitrator":"0x75190bb91d3345b48b26e7c787866a289ca00a38","campaignCanceled":false,"milestones":[],"changingMilestones":true,"proposedMilestonesData":"0xf90dccf902eab901b14d616b696e6720542d7368697274733a2045766572796f6e6520636f6d70616e79206e6565647320736f6d6520676f6f64205363687761672e2057652061726520676f696e6720746f207375626d69742064657369676e7320746f2074686520457468657265756d2050757263686173696e6720436f6f7020746f20676574207468697320706172747920737461727465642e202057652077616e742024353430302055534420696e2045544820617420746865206d61726b6574207261746520746f2062652073706c6974206265747765656e20417269656c202824323930302920616e6420434a20282432353030292075706f6e207468652072656365697074206f662074686520353030207368697274732e20546869732077696c6c20636f7665722065766572797468696e672c206f75722070726564657369676e20776f726b2c2074686520636f7374206f66207468652035303020542d73686972747320616e6420616c6c20746865206c6974746c65207468696e677320746861742069742074616b657320746f206765742061206d617373697665206f72646572206c696b65207468697320646f6e652ea2687474703a2f2f7777772e6769766574682e696f2f3f696450726f706f73616c3d31845939d5a78459431027949b78b6f60e7f3701072d4dbafd7521a6d4d9288e94323bd10910c5c01c00a2dae3b8830a29305668838302a30094c27d62e4a81f994cb1b4ae451182dcf4f2e29a2bb8c48e637a330000000000000000000000000000000000000000000000000000000000000080000000000000000000000000f810573570c515ed8be3c72240ae42fac077782a0000000000000000000000000000000000000000000000056bc75e2d631000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000f4d616b696e6720542d7368697274730000000000000000000000000000000000f902a3b9016a4275696c6420746865204c616e64696e67207061676520666f722074686520576562736974653a20492077696c6c2070726f6261626c79206a757374206772616220736f6d65206e6963652074656d706c61746573206f66662061207765627369746520616e64207468726f77207468697320757020617320717569636b6c7920617320706f737369626c652c2077652077696c6c20646f206d616e7920697465726174696f6e732c2062757420492077696c6c206e65656420796f75722068656c70206f6e2074686520636f6e74656e742e2e2e2061732049276d20612064657369676e6572206e6f74206120777269746572203a2d442e204920616d20646f696e672074686973206d6f73746c792061732061207365727669636520746f2074686520636f6d6d756e6974792c20627574204920776f756c64206c6f766520746f2067657420352045544820666f72206d7920776f726b2075706f6e20636f6d706c6574696f6e2ea2687474703a2f2f7777772e6769766574682e696f2f3f696450726f706f73616c3d31845939d5a784593f1ba7949b78b6f60e7f3701072d4dbafd7521a6d4d9288e94323bd10910c5c01c00a2dae3b8830a29305668838302a30094c27d62e4a81f994cb1b4ae451182dcf4f2e29a2bb8c48e637a330000000000000000000000000000000000000000000000000000000000000080000000000000000000000000f810573570c515ed8be3c72240ae42fac077782a0000000000000000000000000000000000000000000000004563918244f400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000d4669727374205765627369746500000000000000000000000000000000000000f90203b8cb446f75626c652074686520646f6e6174696f6e7320696e20746869732044434f20696e20333020646179733a20492077616e7420746f2068656c70207261697365206d6f6e657920666f7220746869732070726f6a6563742e20496620492063616e20646f75626c652074686520616d6f756e74206f662045544820696e20746869732044434f20696e20746865206e6578742033302064617973207468656e20492077696c6c20676574203130302045544820666f72206d792070726f6d6f74696f6e616c20776f726ba2687474703a2f2f7777772e6769766574682e696f2f3f696450726f706f73616c3d31845939d5a78459431027949b78b6f60e7f3701072d4dbafd7521a6d4d9288e94323bd10910c5c01c00a2dae3b8830a29305668838302a30094c27d62e4a81f994cb1b4ae451182dcf4f2e29a2bb8c48e637a330000000000000000000000000000000000000000000000000000000000000080000000000000000000000000f810573570c515ed8be3c72240ae42fac077782a0000000000000000000000000000000000000000000000056bc75e2d6310000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010446f75626c6520446f6e6174696f6e7300000000000000000000000000000000f903e9b902b0486972652061204272616e64204d616e616765722e20576520617265207374617274696e6720746f206d616b652061207265616c207472616374696f6e20616e642049207468696e6b206974732074696d652074686174207765206861766520612066756c6c2074696d6520706572736f6e2077686f206a757374206d616e6167657320746865206272616e642c20616e6420646976657320696e746f20746f206f757220646563656e7472616c697a6564206d65737320746f2067697665206f7572206272616e64207265636f676e6974696f6e20746f2074686520776f726c642e204920776f726b656420696e204852206d616e792079656172732061676f20616e6420726563656e746c7920726574697265642066726f6d206265696e67207468652043454f206f662061207375636365737366756c20627573696e65737320696e20746865205465636820696e6475737472792c2049206b6e6f7720686f7720746f20686972652070656f706c6520616e642069742773206e6f7420616e2065617379206a6f622e20492077696c6c20646f2069742066726565206173204920646f6e2774206e65656420746865206d6f6e65792c20627574204920776f756c64206c696b65206d7920657870656e73657320746f20626520636f76657265642c206261736963616c6c792035206c756e6368657320776974682074686520746f702035206170706c6963616e7473206174202436302061206c756e63682e20736f202433303020696e2045544820617420746865206d61726b657420726174652075706f6e20746865207375636365737366756c20686972696e67206f662061206272616e64206d616e616765722c2061667465722074686579206861766520776f726b656420666f722031207765656b20616e642066697420696e746f206f75722063756c747572652ea2687474703a2f2f7777772e6769766574682e696f2f3f696450726f706f73616c3d31845939d5a78459558527949b78b6f60e7f3701072d4dbafd7521a6d4d9288e94323bd10910c5c01c00a2dae3b8830a29305668838302a30094c27d62e4a81f994cb1b4ae451182dcf4f2e29a2bb8c48e637a330000000000000000000000000000000000000000000000000000000000000080000000000000000000000000f810573570c515ed8be3c72240ae42fac077782a0000000000000000000000000000000000000000000000056bc75e2d6310000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000014486972652061204272616e64204d616e61676572000000000000000000000000f90244b9010b4272616e64204d616e616765722053616c6172793a20546869732069732061206d6f6e74686c7920696e7374616c6c6d656e7420746f206b656570206f7572206272616e64206d616e6167657220656d706c6f7965642e20546865792061726520746f20726563656976652024353030302061206d6f6e746820696e2045544820617420746865206d61726b6574207261746520746f20666f72206272696e67696e67206120636f6e73697374656e74206272616e6420746f207468652065787465726e616c20636f6d6d756e6974792e20546865792077696c6c20726577726974652074686973206d696c6573746f6e65207768656e207468657920617265206869726564203a2d292ea2687474703a2f2f7777772e6769766574682e696f2f3f696450726f706f73616c3d31845939d5a7845945b327949b78b6f60e7f3701072d4dbafd7521a6d4d9288e94323bd10910c5c01c00a2dae3b8830a29305668838302a30094c27d62e4a81f994cb1b4ae451182dcf4f2e29a2bb8c48e637a330000000000000000000000000000000000000000000000000000000000000080000000000000000000000000f810573570c515ed8be3c72240ae42fac077782a0000000000000000000000000000000000000000000000056bc75e2d63100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000144272616e64204d616e616765722053616c617279000000000000000000000000","proposedMilestonesHash":"0x7cb3fcb6b2e39ca12d84e179e7b98f6892fb26ecf479bd8502ecc5c0d2661557","proposedMilestones":[{"description":"Making T-shirts: Everyone company needs some good Schwag. We are going to submit designs to the Ethereum Purchasing Coop to get this party started.  We want $5400 USD in ETH at the market rate to be split between Ariel ($2900) and CJ ($2500) upon the receipt of the 500 shirts. This will cover everything, our predesign work, the cost of the 500 T-shirts and all the little things that it takes to get a massive order like this done.","url":"http://www.giveth.io/?idProposal=1","minCompletionDate":1496962471,"maxCompletionDate":1497567271,"milestoneLeadLink":"0x9b78b6f60e7f3701072d4dbafd7521a6d4d9288e","reviewer":"0x323bd10910c5c01c00a2dae3b8830a2930566883","reviewTime":172800,"paymentSource":"0xc27d62e4a81f994cb1b4ae451182dcf4f2e29a2b","payData":"0x8e637a330000000000000000000000000000000000000000000000000000000000000080000000000000000000000000f810573570c515ed8be3c72240ae42fac077782a0000000000000000000000000000000000000000000000056bc75e2d631000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000f4d616b696e6720542d7368697274730000000000000000000000000000000000","payDescription":"Making T-shirts","payRecipient":"0xf810573570c515ed8be3c72240ae42fac077782a","payValue":"100000000000000000000","payDelay":0},{"description":"Build the Landing page for the Website: I will probably just grab some nice templates off a website and throw this up as quickly as possible, we will do many iterations, but I will need your help on the content... as I'm a designer not a writer :-D. I am doing this mostly as a service to the community, but I would love to get 5 ETH for my work upon completion.","url":"http://www.giveth.io/?idProposal=1","minCompletionDate":1496962471,"maxCompletionDate":1497308071,"milestoneLeadLink":"0x9b78b6f60e7f3701072d4dbafd7521a6d4d9288e","reviewer":"0x323bd10910c5c01c00a2dae3b8830a2930566883","reviewTime":172800,"paymentSource":"0xc27d62e4a81f994cb1b4ae451182dcf4f2e29a2b","payData":"0x8e637a330000000000000000000000000000000000000000000000000000000000000080000000000000000000000000f810573570c515ed8be3c72240ae42fac077782a0000000000000000000000000000000000000000000000004563918244f400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000d4669727374205765627369746500000000000000000000000000000000000000","payDescription":"First Website","payRecipient":"0xf810573570c515ed8be3c72240ae42fac077782a","payValue":"5000000000000000000","payDelay":0},{"description":"Double the donations in this DCO in 30 days: I want to help raise money for this project. If I can double the amount of ETH in this DCO in the next 30 days then I will get 100 ETH for my promotional work","url":"http://www.giveth.io/?idProposal=1","minCompletionDate":1496962471,"maxCompletionDate":1497567271,"milestoneLeadLink":"0x9b78b6f60e7f3701072d4dbafd7521a6d4d9288e","reviewer":"0x323bd10910c5c01c00a2dae3b8830a2930566883","reviewTime":172800,"paymentSource":"0xc27d62e4a81f994cb1b4ae451182dcf4f2e29a2b","payData":"0x8e637a330000000000000000000000000000000000000000000000000000000000000080000000000000000000000000f810573570c515ed8be3c72240ae42fac077782a0000000000000000000000000000000000000000000000056bc75e2d6310000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010446f75626c6520446f6e6174696f6e7300000000000000000000000000000000","payDescription":"Double Donations","payRecipient":"0xf810573570c515ed8be3c72240ae42fac077782a","payValue":"100000000000000000000","payDelay":0},{"description":"Hire a Brand Manager. We are starting to make a real traction and I think its time that we have a full time person who just manages the brand, and dives into to our decentralized mess to give our brand recognition to the world. I worked in HR many years ago and recently retired from being the CEO of a successful business in the Tech industry, I know how to hire people and it's not an easy job. I will do it free as I don't need the money, but I would like my expenses to be covered, basically 5 lunches with the top 5 applicants at $60 a lunch. so $300 in ETH at the market rate upon the successful hiring of a brand manager, after they have worked for 1 week and fit into our culture.","url":"http://www.giveth.io/?idProposal=1","minCompletionDate":1496962471,"maxCompletionDate":1498776871,"milestoneLeadLink":"0x9b78b6f60e7f3701072d4dbafd7521a6d4d9288e","reviewer":"0x323bd10910c5c01c00a2dae3b8830a2930566883","reviewTime":172800,"paymentSource":"0xc27d62e4a81f994cb1b4ae451182dcf4f2e29a2b","payData":"0x8e637a330000000000000000000000000000000000000000000000000000000000000080000000000000000000000000f810573570c515ed8be3c72240ae42fac077782a0000000000000000000000000000000000000000000000056bc75e2d6310000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000014486972652061204272616e64204d616e61676572000000000000000000000000","payDescription":"Hire a Brand Manager","payRecipient":"0xf810573570c515ed8be3c72240ae42fac077782a","payValue":"100000000000000000000","payDelay":0},{"description":"Brand Manager Salary: This is a monthly installment to keep our brand manager employed. They are to receive $5000 a month in ETH at the market rate to for bringing a consistent brand to the external community. They will rewrite this milestone when they are hired :-).","url":"http://www.giveth.io/?idProposal=1","minCompletionDate":1496962471,"maxCompletionDate":1497740071,"milestoneLeadLink":"0x9b78b6f60e7f3701072d4dbafd7521a6d4d9288e","reviewer":"0x323bd10910c5c01c00a2dae3b8830a2930566883","reviewTime":172800,"paymentSource":"0xc27d62e4a81f994cb1b4ae451182dcf4f2e29a2b","payData":"0x8e637a330000000000000000000000000000000000000000000000000000000000000080000000000000000000000000f810573570c515ed8be3c72240ae42fac077782a0000000000000000000000000000000000000000000000056bc75e2d63100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000144272616e64204d616e616765722053616c617279000000000000000000000000","payDescription":"Brand Manager Salary","payRecipient":"0xf810573570c515ed8be3c72240ae42fac077782a","payValue":"100000000000000000000","payDelay":0}],"actions":{"unproposeMilestones":[{"account":"0xf810573570c515ed8be3c72240ae42fac077782a","type":"ACCOUNT"}],"acceptProposedMilestones":[{"account":"0x26626c5f785174d6eeb44ee77f7a34054e2eb937","type":"ACCOUNT"}],"arbitrateCancelCampaign":[{"account":"0x75190bb91d3345b48b26e7c787866a289ca00a38","type":"ACCOUNT"}]}},"vault":{"owner":"0x8837948d582d553ae6d39ce0f3ba6f582f2deed7","escapeCaller":"0x4f27c5bae363542e67d8459b94b88a0c11d59ec1","escapeDestination":"0xb289590b4419e82459d68abc865db066dac6ae40","balance":"0","payments":[]},"token":{"balances":{"0x8837948d582d553ae6d39ce0f3ba6f582f2deed7":0,"0x4f27c5bae363542e67d8459b94b88a0c11d59ec1":0,"0xb289590b4419e82459d68abc865db066dac6ae40":0,"0xda519e3d68002ef411000db1b36f52882f55066e":0,"0x75190bb91d3345b48b26e7c787866a289ca00a38":0,"0x26626c5f785174d6eeb44ee77f7a34054e2eb937":0,"0xf810573570c515ed8be3c72240ae42fac077782a":0,"0x323bd10910c5c01c00a2dae3b8830a2930566883":0,"0x9b78b6f60e7f3701072d4dbafd7521a6d4d9288e":0,"0xe956cfeb6534a51bf14186d783026ab3dfcfbda5":0},"name":"Swarm City Donation Test Tokens","decimals":"18","controller":"0xaf5370ab152b3761c8ecc4585465bf1ec2d4a3c8","totalSupply":0,"parentToken":"0x0000000000000000000000000000000000000000","parentSnapShotBlock":"0"}}]};
// This is live

var RESPONSES = {
	'campaigns': 'a campaign is a campaign',
	'milestones': 'a milestone is a milestone',
	'giveth': 'Giveth is a Decentralized Charitable Organization -- more info @ Giveth.io'
}

var VIEW_STYLES = {
	borderRadius: 10,
	boxShadow: "10px 10px 0 #000"
}
var TITLE_STYLES = {
	color: "white",
	font: "Comic-sans",
	fontSize: "22px",
	fontWeight: "bold",
	textAlign: "center",
	backgroundColor: "#6200ea",
}
var TITLE_ACCENTS = {
	backgroundColor: "#0a00b6"
}

var TITLE_ERROR_ACCENT = {
	backgroundColor: "#9b0000"

}
var TITLE_ERROR_STYLES = {
	color: "white",
	font: "Comic-sans",
	fontSize: "22px",
	fontWeight: "bold",
	textAlign: "center",
	backgroundColor: "#d50000"
}

var SUB_TITLE_STYLES = {
	color: "white",
	border: '1px solid grey',
	fontWeight:"bold",
	paddingLeft: "10px",
	backgroundColor: "#6874E8",
	fontSize: "12px",
	textAlign: "left"
}

var MILESTONE_TITLE = {
	backgroundColor: "#aa00c7",
	fontSize: "18px",
	color: "white",
	fontWeight: "bold"
}

var DONATE_BUTTON_STYLES = {
	backgroundColor: "#d50000",
	color: "white",
	fontSize: "18px",
	textAlign: "center",
	fontWeight: "700",
	border: "1px solid white",
	borderRadius: "10px"

}

function text(text, style) {
	style = style || {}
	return status.components.text(style, text)
}

function s(opts) {
	return {style: opts}
}

function view(view, style, scroll) {
	style = style || {}
	scroll = scroll || false
	if (scroll) {
		return status.components.scrollView(style, view)
	}
	return status.components.view(style, view)
}

function touchable(view,argument) {
	argument = argument || "/donate";
	var onPress = {onPress: status.components.dispatch([status.events.SET_COMMAND_ARGUMENT, [0, argument]])};
	return status.components.touchable(onPress, view);
}

function campaigns() { 
	return DIRECTORY.campaigns.map(function(i) {
		var viewElements = []
		viewElements.push(text("   ", s(TITLE_ACCENTS)))
		viewElements.push(text('\n'+i.name+'\n', s(TITLE_STYLES)))
		viewElements.push(text('\n'+i.description.slice(0,135) + "...\n\nSee More\n", s(SUB_TITLE_STYLES)))	
		// BUG: if string ends in a space, string wraps self in quotes
		return touchable(view(viewElements, VIEW_STYLES), "/milestones".trim())
	})
}

status.addListener('on-message-send', function(params, context) {
	var queries = ["Unicorns = goats", "Check out Giveth.io's website-- Giveth.io (what were you expecting?)", "Need moar features", "Giveth is changing charities!", "Would you like to donate to Giveth's cause? Send ETH to our Vault!", "Hi! Check out the commands you can interact with.", "What's up?", "Hey!", "Did you try /campaigns ?", "How's it going!"]
	function rand() {
		return Math.floor(Math.random() * queries.length)
	}
	return { "text-message": queries[rand()]}
})

status.addListener('on-message-input-change', function (params, context) {
    return unicorn();
});

function unicorn() {
	  var suggestions = status.components.scrollView({style: {margin: 10}}, [
	    status.components.image(
	        {
	            source: {uri: "http://www.giveth.io/images/unicorn%20profile-transparent.png"},
	            style: {
	                width: 180,
	                height: 180,
					marginLeft: 'auto',
					marginRight: 'auto'
	            }
	        })]);
	  return {markup: suggestions}
}

status.command({
	"name":"campaigns",
	"title": "Giveth",
	"description": "See a list of campaigns per charity",
	"color": "#00e676",
	// params: [{
	// 	name: "camp",
	// 	type: status.types.TEXT,
	// 	placeholder: "what campaign?",
	// 	suggestions: unicorn
	// }],
	preview: function(params, context) {
		return { markup : view(campaigns(), s({"color": "lightgreen", "fontWeight": "bold"})) }
	}
})

function milestones() {

	return DIRECTORY.campaigns.map(function(i) {
		var milestones = i.milestoneTracker.proposedMilestones
		var viewElements = []
		if (!milestones) {
			viewElements.push(text("   ", s(TITLE_ERROR_ACCENT)))
			viewElements.push(text('\nNo Milestones Available!!! :(\n', s(TITLE_ERROR_STYLES)))
			return view(viewElements)
		}

		viewElements.push(text("   ", s(TITLE_ACCENTS)))
		viewElements.push(text('Campaign Milestones', s(TITLE_STYLES)))
		var num = 0
		milestones.map(function(mstone) {
			num+=1
			viewElements.push(text("==========================", s(SUB_TITLE_STYLES)))
			viewElements.push(text("\nMilestone#" + num + "\n", s(MILESTONE_TITLE)))
			viewElements.push(text("==========================", s(SUB_TITLE_STYLES)))

			viewElements.push(text("\n" + mstone.description.slice(0,135) + "...\n\nSee More\n", s(SUB_TITLE_STYLES)))
			viewElements.push(text("TO MEET MILESTONE:\n", s(SUB_TITLE_STYLES)))
			viewElements.push(text(mstone.payDescription, s(SUB_TITLE_STYLES)))
			viewElements.push(text("\nMilestone payed out to:\n" + mstone.payRecipient + "\n\n\n Amount Received To Date: " +web3.fromWei(parseInt(mstone.payValue), "ether") + " ETH\n\n", s(SUB_TITLE_STYLES)))
			viewElements.push(text("Donate", s(DONATE_BUTTON_STYLES)))
			viewElements.push(text("   ")
		})

		return view(viewElements)
	})
}

status.command({
	"name":"milestones",
	"title": "Giveth",
	"description": "See a list of milestones per campaign",
	"color": "#00e676",
	// params: [{
	// 	name: "camp",
	// 	type: status.types.TEXT,
	// 	placeholder: "what campaign?",
	// 	suggestions: unicorn
	// }],
	preview: function(params, context) {
		return { markup : status.components.scrollView(s({height: "200px", "fontWeight": "bold"}), milestones()) }
	}
})

status.command({
	"name": "help",
	"title": "What is that?",
	"description": "What is a campaign? What is a Milestone? Who is Giveth?",
	"color": "#00e676",
	"params": [{
		name: "topic",
		type: status.types.TEXT,
		placeholder: "Can be one of: campaigns, milestones, or giveth"
	}],
	handler: function(params, context) {
		var msg;
		if (params.context !== RESPONSES[params.topic]) {
			msg = "Sorry, I only have answers for giveth, campaigns, and milestones!"
		} else {
			msg = RESPONSES[params.topic]
		}
		return {"text-message": msg}
	}
})

status.command({
	"name":"donate",
	"title": "Giveth",
	"description": "Donate to the project",
	"color": "#00e676",
	"params": [{
		name: "donation",
		type: status.types.NUMBER,
		placeholder: "Donation amount?"
	}],
	handler: function(params, context) {
		status.sendMessage("Sending " + params.donation + " ETH")
	}
})
